{"ast":null,"code":"import _regeneratorRuntime from\"/Users/yasinakbulut/Desktop/react-project/movie/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/yasinakbulut/Desktop/react-project/movie/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/yasinakbulut/Desktop/react-project/movie/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useContext,useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";var MovieContext=/*#__PURE__*/createContext();function Provider(_ref){var children=_ref.children;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),genres=_useState4[0],setGenres=_useState4[1];var API_KEY=\"977df55b389183b892b6c11af75af168\";var API_URL=\"https://api.themoviedb.org/3/\";var getMovies=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(type,endpoint){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"\".concat(API_URL).concat(type,\"/\").concat(endpoint,\"?api_key=\").concat(API_KEY));case 2:response=_context.sent;return _context.abrupt(\"return\",response.data.results);case 4:case\"end\":return _context.stop();}},_callee);}));return function getMovies(_x,_x2){return _ref2.apply(this,arguments);};}();var findMovie=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(type,movieId){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"\".concat(API_URL).concat(type,\"/\").concat(movieId,\"?api_key=\").concat(API_KEY));case 2:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 4:case\"end\":return _context2.stop();}},_callee2);}));return function findMovie(_x3,_x4){return _ref3.apply(this,arguments);};}();var getMovieDetails=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(type,movieId,endpoint){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.get(\"\".concat(API_URL).concat(type,\"/\").concat(movieId,\"/\").concat(endpoint,\"?api_key=\").concat(API_KEY));case 2:response=_context3.sent;return _context3.abrupt(\"return\",response.data.results);case 4:case\"end\":return _context3.stop();}},_callee3);}));return function getMovieDetails(_x5,_x6,_x7){return _ref4.apply(this,arguments);};}();var getMovieActors=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(type,movieId){var response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.get(\"\".concat(API_URL).concat(type,\"/\").concat(movieId,\"/credits?api_key=\").concat(API_KEY));case 2:response=_context4.sent;return _context4.abrupt(\"return\",response.data.cast);case 4:case\"end\":return _context4.stop();}},_callee4);}));return function getMovieActors(_x8,_x9){return _ref5.apply(this,arguments);};}();var searchMovie=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(type,query){var response;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return axios.get(\"\".concat(API_URL,\"search/\").concat(type,\"?api_key=\").concat(API_KEY,\"&language=en-US&query=\").concat(query));case 2:response=_context5.sent;return _context5.abrupt(\"return\",response.data.results);case 4:case\"end\":return _context5.stop();}},_callee5);}));return function searchMovie(_x10,_x11){return _ref6.apply(this,arguments);};}();var getGenres=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(){var response;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.next=2;return axios.get(\"\".concat(API_URL,\"genre/movie/list?api_key=\").concat(API_KEY));case 2:response=_context6.sent;setGenres(response.data.genres);case 4:case\"end\":return _context6.stop();}},_callee6);}));return function getGenres(){return _ref7.apply(this,arguments);};}();useEffect(function(){var fetchMovies=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(){var data;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:_context7.next=2;return getMovies(\"movie\",\"popular\");case 2:data=_context7.sent;setMovies(data);case 4:case\"end\":return _context7.stop();}},_callee7);}));return function fetchMovies(){return _ref8.apply(this,arguments);};}();fetchMovies();getGenres();},[]);var sharedValuesAndMethods={movies:movies,genres:genres,getMovies:getMovies,findMovie:findMovie,getMovieDetails:getMovieDetails,getMovieActors:getMovieActors,searchMovie:searchMovie};return/*#__PURE__*/_jsx(MovieContext.Provider,{value:sharedValuesAndMethods,children:children});}var useMovieContext=function useMovieContext(){return useContext(MovieContext);};export{Provider,useMovieContext};export default MovieContext;","map":{"version":3,"names":["React","createContext","useContext","useEffect","useState","axios","jsx","_jsx","MovieContext","Provider","_ref","children","_useState","_useState2","_slicedToArray","movies","setMovies","_useState3","_useState4","genres","setGenres","API_KEY","API_URL","getMovies","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","type","endpoint","response","wrap","_callee$","_context","prev","next","get","concat","sent","abrupt","data","results","stop","_x","_x2","apply","arguments","findMovie","_ref3","_callee2","movieId","_callee2$","_context2","_x3","_x4","getMovieDetails","_ref4","_callee3","_callee3$","_context3","_x5","_x6","_x7","getMovieActors","_ref5","_callee4","_callee4$","_context4","cast","_x8","_x9","searchMovie","_ref6","_callee5","query","_callee5$","_context5","_x10","_x11","getGenres","_ref7","_callee6","_callee6$","_context6","fetchMovies","_ref8","_callee7","_callee7$","_context7","sharedValuesAndMethods","value","useMovieContext"],"sources":["/Users/yasinakbulut/Desktop/react-project/movie/src/context/MovieContext.js"],"sourcesContent":["import React, { createContext, useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst MovieContext = createContext();\n\nfunction Provider({ children }) {\n  const [movies, setMovies] = useState([]);\n  const [genres, setGenres] = useState([]);\n\n  const API_KEY = \"977df55b389183b892b6c11af75af168\";\n  const API_URL = \"https://api.themoviedb.org/3/\";\n\n  const getMovies = async (type, endpoint) => {\n    const response = await axios.get(\n      `${API_URL}${type}/${endpoint}?api_key=${API_KEY}`\n    );\n    return response.data.results;\n  };\n\n  const findMovie = async (type, movieId) => {\n    const response = await axios.get(\n      `${API_URL}${type}/${movieId}?api_key=${API_KEY}`\n    );\n    return response.data;\n  };\n\n  const getMovieDetails = async (type, movieId, endpoint) => {\n    const response = await axios.get(\n      `${API_URL}${type}/${movieId}/${endpoint}?api_key=${API_KEY}`\n    );\n    return response.data.results;\n  };\n\n  const getMovieActors = async (type, movieId) => {\n    const response = await axios.get(\n      `${API_URL}${type}/${movieId}/credits?api_key=${API_KEY}`\n    );\n    return response.data.cast;\n  };\n\n  const searchMovie = async (type, query) => {\n    const response = await axios.get(\n      `${API_URL}search/${type}?api_key=${API_KEY}&language=en-US&query=${query}`\n    );\n    return response.data.results;\n  };\n\n  const getGenres = async () => {\n    const response = await axios.get(\n      `${API_URL}genre/movie/list?api_key=${API_KEY}`\n    );\n    setGenres(response.data.genres);\n  };\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      const data = await getMovies(\"movie\", \"popular\");\n      setMovies(data);\n    };\n\n    fetchMovies();\n    getGenres();\n  }, []);\n\n  const sharedValuesAndMethods = {\n    movies,\n    genres,\n    getMovies,\n    findMovie,\n    getMovieDetails,\n    getMovieActors,\n    searchMovie,\n  };\n\n  return (\n    <MovieContext.Provider value={sharedValuesAndMethods}>\n      {children}\n    </MovieContext.Provider>\n  );\n}\n\nconst useMovieContext = () => useContext(MovieContext);\nexport { Provider, useMovieContext };\nexport default MovieContext;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}